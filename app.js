!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=1)}([function(t,e,i){(function(e){var i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,h=o||c||Function("return this")(),l=Object.prototype.toString,u=Math.max,d=Math.min,f=function(){return h.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var o=r.test(t);return o||a.test(t)?s(t.slice(2),o?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,i){var n,r,a,s,o,c,h=0,l=!1,p=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var i=n,a=r;return n=r=void 0,h=e,s=t.apply(a,i)}function b(t){return h=t,o=setTimeout(x,e),l?g(t):s}function m(t){var i=t-c;return void 0===c||i>=e||i<0||p&&t-h>=a}function x(){var t=f();if(m(t))return C(t);o=setTimeout(x,function(t){var i=e-(t-c);return p?d(i,a-(t-h)):i}(t))}function C(t){return o=void 0,w&&n?g(t):(n=r=void 0,s)}function V(){var t=f(),i=m(t);if(n=arguments,r=this,c=t,i){if(void 0===o)return b(c);if(p)return o=setTimeout(x,e),g(c)}return void 0===o&&(o=setTimeout(x,e)),s}return e=y(e)||0,v(i)&&(l=!!i.leading,a=(p="maxWait"in i)?u(y(i.maxWait)||0,e):a,w="trailing"in i?!!i.trailing:w),V.cancel=function(){void 0!==o&&clearTimeout(o),h=0,n=c=r=o=void 0},V.flush=function(){return void 0===o?s:C(f())},V}}).call(this,i(2))},function(t,e,i){i(3),t.exports=i(4)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;a(this,t),this.ratio=window.devicePixelRatio||1,this.width=e*this.ratio,this.height=i*this.ratio,this.animationRequest=null,this.canvas=document.querySelector("#canvas"),this.canvas.width=e*this.ratio,this.canvas.height=i*this.ratio,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(i,"px"),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(this.ratio,this.ratio),this.resizeCallbacks=[],this.attachListeners(),this.watchPageResize()}var e,i,n;return e=t,(i=[{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"updateFrame",value:function(t){var e=this;t(),this.animationRequest=requestAnimationFrame((function(){return e.updateFrame(t)}))}},{key:"stopFrameUpdate",value:function(){this.animationRequest&&cancelAnimationFrame(this.animationRequest)}},{key:"toPolarCoordinates",value:function(t){var e=t.x,i=t.y;return{x:e+this.canvas.width/2,y:i+this.canvas.height/2}}},{key:"watchPageResize",value:function(){var t,e,i=30,n=this.width/this.ratio,r=this.height/this.ratio,a=this.height/this.width;window.screen.width>576&&(i=60),window.screen.width>991&&(i=0),window.screen.width<=window.screen.height?e=(t=Math.min(window.screen.width,n)-i)*a:t=(e=Math.min(window.screen.height,r)-i)/a,this.canvas.width=t*this.ratio,this.canvas.height=e*this.ratio,this.canvas.style.width="".concat(t,"px"),this.canvas.style.height="".concat(e,"px"),this.resizeCallbacks.length>0&&this.resizeCallbacks.forEach((function(t){return t()}))}},{key:"attachListeners",value:function(){window.addEventListener("resize",r()(this.watchPageResize.bind(this),160))}},{key:"preRenderCanvas",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},n=document.createElement("canvas"),r=n.getContext("2d");return n.width=t,n.height=e,i(r),n}}])&&s(e.prototype,i),n&&s(e,n),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=y(t);if(e){var r=y(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return f(this,i)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=2*Math.PI,w=Math.PI/2;(new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,t);var e,i,n,r=d(a);function a(){var t;h(this,a);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(t=r.call.apply(r,[this].concat(i))).bgCanvas=document.querySelector("#background-canvas"),t.bgCanvas.width=t.canvas.width,t.bgCanvas.height=t.canvas.height,t.bgCanvas.style.width=t.canvas.style.width,t.bgCanvas.style.height=t.canvas.style.height,t.bgctx=t.bgCanvas.getContext("2d"),t.rows=5,t.cols=5,t.colWidth=Math.floor(t.canvas.width/(Math.max(t.rows,t.cols)+1)),t.diameter=.75*t.colWidth,t.radius=t.diameter/2,t.allVertices={},t.curves=[],t.hueOffset=190,t.lineWidth=4,t.stepSize=.015,t.maxIndex=Math.ceil(p/t.stepSize),t.resizeCallbacks=[t.backgroundCanvasResize.bind(v(t))],t}return e=a,(i=[{key:"init",value:function(){this.attachControls(),this.generateAnimationVertives(),this.drawBackgroundCanvas(),this.startAnimation()}},{key:"startAnimation",value:function(){var t=this;this.ctx.lineWidth=this.lineWidth;var e=0,i=!1,n=!1;this.updateFrame((function(){t.clearCanvas(),i&&!n?(t.drawCurves(t.bgctx,t.maxIndex),n=!0):n||t.drawCurves(t.ctx,e);for(var r=0,a=t.allVertices.rows[e].length;r<a;r++)t.drawMovingDot(t.allVertices.rows[e][r].centerX+t.allVertices.rows[e][r].x,t.allVertices.rows[e][r].centerY+t.allVertices.rows[e][r].y,t.allVertices.rows[e][r].index),t.drawGuideLine(t.allVertices.rows[e][r].centerX+t.allVertices.rows[e][r].x,t.allVertices.rows[e][r].centerY+t.allVertices.rows[e][r].y,t.allVertices.rows[e][r].index);for(var s=0,o=t.allVertices.cols[e].length;s<o;s++)t.drawMovingDot(t.allVertices.cols[e][s].centerX+t.allVertices.cols[e][s].x,t.allVertices.cols[e][s].centerY+t.allVertices.cols[e][s].y,t.allVertices.cols[e][s].index),t.drawGuideLine(t.allVertices.cols[e][s].centerX+t.allVertices.cols[e][s].x,t.allVertices.cols[e][s].centerY+t.allVertices.cols[e][s].y,t.allVertices.cols[e][s].index);++e>=t.maxIndex&&(e=0,i=!0)}))}},{key:"generateAnimationVertives",value:function(){this.allVertices={rows:[],cols:[],curves:[]};for(var t=0;t<p;t=parseFloat((t+this.stepSize).toPrecision(4))){for(var e=[],i=[],n=0;n<this.rows;n++){var r=this.colWidth+n*this.colWidth+this.colWidth/2,a=this.colWidth/2,s=this.radius*Math.sin(t*(n+1)+w),o=this.radius*Math.sin(t*(n+1));e.push({centerX:r,centerY:a,x:s,y:o,index:n})}for(var c=0;c<this.cols;c++){var h=this.colWidth/2,l=this.colWidth+c*this.colWidth+this.colWidth/2,u=this.radius*Math.sin(t*(c+1)+w),d=this.radius*Math.sin(t*(c+1));i.push({centerX:h,centerY:l,x:u,y:d,index:c})}this.allVertices.rows.push(e),this.allVertices.cols.push(i)}for(var f=0;f<this.rows;f++){this.allVertices.curves[f]||(this.allVertices.curves[f]=[]);for(var v=0;v<this.cols;v++){this.allVertices.curves[f][v]=[];for(var y=0;y<p;y=parseFloat((y+this.stepSize).toPrecision(4))){var g=this.colWidth+f*this.colWidth+this.colWidth/2,b=this.colWidth+v*this.colWidth+this.colWidth/2,m=this.radius*Math.sin(y*(f+1)+w),x=this.radius*Math.sin(y*(v+1));this.allVertices.curves[f][v].push({x:g+m,y:b+x})}}}}},{key:"drawBackgroundCanvas",value:function(){this.bgctx.clearRect(0,0,this.bgCanvas.width,this.bgCanvas.height),this.bgctx.lineWidth=this.lineWidth;for(var t=0;t<this.rows;t++){var e=this.colWidth+t*this.colWidth+this.colWidth/2,i=this.colWidth/2;this.drawCircle(this.bgctx,e,i,t)}for(var n=0;n<this.cols;n++){var r=this.colWidth/2,a=this.colWidth+n*this.colWidth+this.colWidth/2;this.drawCircle(this.bgctx,r,a,n)}}},{key:"dynamicColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=(30*(t+1)+this.hueOffset)%361;return"hsla(".concat(i,", 85%, 60%, ").concat(e,")")}},{key:"drawCircle",value:function(t,e,i,n){t.strokeStyle=this.dynamicColor(n),t.beginPath(),t.arc(e,i,this.radius,0,p),t.stroke()}},{key:"drawMovingDot",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.25*this.lineWidth;this.ctx.fillStyle=this.dynamicColor(i),this.ctx.beginPath(),this.ctx.arc(t,e,n,0,p),this.ctx.fill()}},{key:"drawGuideLine",value:function(t,e,i){this.ctx.strokeStyle=this.dynamicColor(i),this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(t,e),e>this.colWidth?this.ctx.lineTo(this.canvas.width,e):this.ctx.lineTo(t,this.canvas.height),this.ctx.stroke()}},{key:"drawCurves",value:function(t,e){t.lineWidth=this.lineWidth;for(var i=0;i<this.rows;i++)for(var n=0;n<this.cols;n++){t.beginPath(),t.strokeStyle=this.dynamicColor(Math.max(i,n));for(var r=1;r<=e;r++)t.moveTo(this.allVertices.curves[i][n][r-1].x,this.allVertices.curves[i][n][r-1].y),r<this.maxIndex?t.lineTo(this.allVertices.curves[i][n][r].x,this.allVertices.curves[i][n][r].y):t.lineTo(this.allVertices.curves[i][n][0].x,this.allVertices.curves[i][n][0].y);t.stroke()}}},{key:"restartAnimation",value:function(){this.colWidth=Math.floor(this.canvas.width/(Math.max(this.rows,this.cols)+1)),this.diameter=.75*this.colWidth,this.radius=this.diameter/2,this.stopFrameUpdate(),this.clearCanvas(),this.generateAnimationVertives(),this.drawBackgroundCanvas(),this.startAnimation()}},{key:"backgroundCanvasResize",value:function(){this.bgCanvas.width=this.canvas.width,this.bgCanvas.height=this.canvas.height,this.bgCanvas.style.width=this.canvas.style.width,this.bgCanvas.style.height=this.canvas.style.height,this.restartAnimation()}},{key:"attachControls",value:function(){var t=this,e=document.querySelector('#controls input[name="rows"]'),i=document.querySelector('#controls input[name="cols"]');e.addEventListener("input",this.updateInputValueLabel),i.addEventListener("input",this.updateInputValueLabel),e.addEventListener("change",(function(e){return t.controlListener(e,"rows")})),i.addEventListener("change",(function(e){return t.controlListener(e,"cols")}))}},{key:"controlListener",value:function(t,e){this[e]=Number(t.target.value),this.restartAnimation()}},{key:"updateInputValueLabel",value:function(t){t.target.parentElement.parentElement.querySelector("td small").innerText=t.target.value}}])&&l(e.prototype,i),n&&l(e,n),a}(o))).init()},function(t,e){}]);